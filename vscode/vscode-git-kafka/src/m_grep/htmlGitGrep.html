<!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <link href="${{styleUri}}" rel="stylesheet">
                <title>Git Grep</title>
            </head>
            <body>
                <!-- enter search term in text area -->
                <textarea id="searchTerm" rows="10" cols="50"></textarea>
                <br>
                <button id="searchButton">Execute</button>
                <button id="searchDirs">Execute Dirs</button>
                <button id="biggestDirs">50 Dirs</button>
                <!--
                <button id="biggestFiles">Find largest 50 files</button>
                -->
                <!-- add dashed line seperator -->
                <br>
                <label for="sortDropdown">Sort:</label>
            <select id="sortDropdown">
                <option value="0">Select...</option>
            </select>

                <script>
                    const vscode = acquireVsCodeApi();
                    const searchButton = document.getElementById('searchButton');
                    searchButton.addEventListener('click', () => {
                        const searchTerm = document.getElementById('searchTerm').value;
                        vscode.postMessage({
                            type: 'search',
                            searchTerm
                        });
                    });
                    const searchDirs = document.getElementById('searchDirs');
                    searchDirs.addEventListener('click', () => {
                        const searchTerm = document.getElementById('searchTerm').value;
                        vscode.postMessage({
                            type: 'searchDirs',
                            searchTerm
                        });
                    });
                    const biggestDirs = document.getElementById('biggestDirs');
                    biggestDirs.addEventListener('click', () => {
                        vscode.postMessage({
                            type: 'biggestDirs'
                        });
                    });
                    /*
                    const biggestFiles = document.getElementById('biggestFiles');
                    biggestFiles.addEventListener('click', () => {
                        vscode.postMessage({
                            type: 'biggestFiles'
                        });
                    });
                    */

                //add tries names to drop down list
  window.addEventListener('message', event => {
    const message = event.data;
    const sortDropdown = document.getElementById('sortDropdown');

    switch (message.command) {
      case 'setSortsOptions':
        
        sortDropdown.innerHTML = '';
        message.arrSorts.forEach(sortName => {
          const option = document.createElement('option');
          option.value = sortName;
          option.text = sortName;
          sortDropdown.add(option);

    });


        //add event listener to dropdown list
        sortDropdown.addEventListener('change', () => {
          const selectedSort = sortDropdown.options[sortDropdown.selectedIndex].text;
          vscode.postMessage({ type: 'selectSort', text: selectedSort });
        });
       
        break;
        case 'setSortOption':
            sortDropdown.value = message.currSort;
            break;
    }
    });

                // Notify the extension that the webview is loaded
            window.addEventListener('DOMContentLoaded', () => {
                vscode.postMessage({ type: 'webviewLoaded' });
            });

                </script>
                <script src="${{scriptUri}}"></script>
            </body>
            </html>